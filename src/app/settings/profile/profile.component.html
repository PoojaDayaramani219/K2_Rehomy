<p-toast></p-toast>

<div class="loading-indicator" *ngIf="ProgressSpinnerDlg">
    <p-progressSpinner [style]="{width: '50px', height: '50px'}" styleClass="custom-spinner" strokeWidth="8"
        animationDuration=".5s"></p-progressSpinner>
</div>

<p-confirmDialog [style]="{width: '50vw'}" [baseZIndex]="10000"
    acceptButtonStyleClass="p-button-text p-button-success p-text-bold"
    rejectButtonStyleClass="p-button-text p-button-danger p-text-bold">
</p-confirmDialog>

<div class="p-grid">
    <div class="p-col-4 p-p-0">
        <div class="p-col-12">
            <p-card>
                <div class="p-ai-center text-center">
                    <p-avatar [image]="img_src" size="xlarge" shape="circle">
                    </p-avatar>
                    <div class="p-mt-3">
                        <p-fileUpload name="file[]" mode="basic" [auto]="true" chooseIcon="pi pi-upload"
                            chooseLabel="Change Profile" accept="{{filetype}}" #fileupload [customUpload]="true"
                            class="p-button-raised p-button-warning p-text-bold"
                            (uploadHandler)="onEditProfile($event, fileupload)">
                        </p-fileUpload>
                    </div>
                </div>
            </p-card>
        </div>
        <div class="p-col-12">
            <p-card>
                <h5> <i class="pi pi-lock p-mr-3" style="font-size: 1.2rem;"></i> Change Password </h5>
                <form [formGroup]="changePassForm">
                    <div class="p-mt-5">
                        <span class="p-float-label">
                            <input id="old_password" class="w-full" type="password" pInputText
                                formControlName="old_password">
                            <label for="old_password">Old Password</label>
                        </span>
                    </div>
                    <div class="p-mt-5">
                        <span class="p-float-label">
                            <input id="new_password" class="w-full" type="password" pInputText
                                formControlName="new_password">
                            <label for="new_password">New Password</label>
                        </span>
                    </div>
                    <div class="p-mt-5">
                        <span class="p-float-label">
                            <input id="confirm_password" class="w-full" type="password" pInputText
                                formControlName="confirm_password">
                            <label for="confirm_password">Confirm Password</label>
                        </span>
                    </div>
                    <div class="text-right p-mt-3">
                        <button pButton type="submit" label="Change Password" [disabled]="!changePassForm.valid"
                            (click)="onChangePassword()" class="p-button-raised p-button-warning p-text-bold">
                        </button>
                    </div>
                </form>
            </p-card>
        </div>
    </div>
    <div class="p-col-8 p-p-0">
        <div class="p-col-12">
            <p-card>
                <p-tabMenu [model]="profile_tab_items" [activeItem]="profile_tab_items[0]"></p-tabMenu>
                <div *ngIf="about_profile_tab">
                    <div class="p-d-flex p-ai-center p-jc-between p-mt-3">
                        <div class="first_name p-col-6">
                            <strong> FIRST NAME </strong>
                            <p> {{user_detail.firstname}} </p>
                        </div>
                        <div class="last_name p-col-6">
                            <strong> LAST NAME </strong>
                            <p> {{user_detail.lastname}} </p>
                        </div>
                    </div>
                    <div class="p-d-flex p-ai-center p-jc-between">
                        <div class="email p-col-6">
                            <strong> EMAIL </strong>
                            <p> {{user_detail.email}} </p>
                        </div>
                        <div class="mobileno p-col-6">
                            <strong> MOBILE NUMBER. </strong>
                            <p> {{user_detail.mobileno}} </p>
                        </div>
                    </div>
                    <div class="p-d-flex p-ai-center p-jc-between">
                        <div class="city p-col-6">
                            <strong> CITY </strong>
                            <p> {{user_detail.city}} </p>
                        </div>
                        <div class="state p-col-6">
                            <strong> STATE </strong>
                            <p> {{user_detail.state}} </p>
                        </div>
                    </div>
                    <div class="p-d-flex p-ai-center p-jc-between">
                        <div class="country p-col-6">
                            <strong> COUNTRY </strong>
                            <p> {{user_detail.country}} </p>
                        </div>
                    </div>
                </div>
                <div *ngIf="edit_profile_tab">
                    <h5 class="p-mt-3 p-mb-0 p-ml-3"> Edit Profile Details </h5>
                    <form [formGroup]="editProfileForm">
                        <div class="p-d-flex p-ai-center p-jc-between">
                            <div class="p-col-6">
                                <input id="firstname" class="w-full" type="text" pInputText
                                    placeholder="{{user_detail.firstname}}" formControlName="firstname">
                            </div>
                            <div class="p-col-6">
                                <input id="lastname" class="w-full" type="text" pInputText
                                    placeholder="{{user_detail.lastname}}" formControlName="lastname">
                            </div>
                        </div>
                        <div class="p-d-flex p-ai-center p-jc-between">
                            <div class="p-col-6">
                                <input id="email" class="w-full" type="text" pInputText
                                    placeholder="{{user_detail.email}}" formControlName="email">
                            </div>
                            <div class="p-col-6">
                                <input id="mobileno" class="w-full" type="text" pInputText
                                    placeholder="{{user_detail.mobileno}}" formControlName="mobileno">
                            </div>
                        </div>

                        <div class="p-d-flex p-ai-center p-jc-between">
                            <div class="p-col-4">
                                <input id="city" class="w-full" type="text" pInputText
                                    placeholder="{{user_detail.city}}" formControlName="city">
                            </div>
                            <div class="p-col-4">
                                <input id="state" class="w-full" type="text" pInputText
                                    placeholder="{{user_detail.state}}" formControlName="state">
                            </div>
                            <div class="p-col-4">
                                <input id="country" class="w-full" type="text" pInputText
                                    placeholder="{{user_detail.country}}" formControlName="country">
                            </div>
                        </div>

                        <div class="text-right p-col-12 p-pt-2">
                            <button pButton type="submit" label="Update Profile" [disabled]="!editProfileForm.valid"
                                (click)="onUpdateProfile()" class="p-button-raised p-button-warning p-text-bold">
                            </button>
                        </div>
                    </form>
                </div>
            </p-card>
        </div>
        <div class="p-col-12">
            <p-card></p-card>
        </div>
    </div>
</div>
